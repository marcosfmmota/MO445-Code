<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libIFT: /home/vdalla/ift/demo/ImageActiveLearning/include/iftHISFSampling.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libIFT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b6c2a257bfab6380ca9b3cb94b12cb25.html">demo</a></li><li class="navelem"><a class="el" href="../../dir_9c8b383c01989677e0a5595aaec09e4f.html">ImageActiveLearning</a></li><li class="navelem"><a class="el" href="../../dir_023e33a891bab09898c378c156dfe33a.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">iftHISFSampling.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>HISF sampling methods. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December 24, 2017 </dd></dl>
</div><div class="textblock"><code>#include &quot;<a class="el" href="../../d0/d00/iftHISF_8h.html">iftHISF.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa1698bcdab6e14236aec783762430c90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d54/iftHISFSampling_8h.html#aa1698bcdab6e14236aec783762430c90">iftHISFSampling</a> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph, const <a class="el" href="../../db/d0f/structiftISFOptions.html">iftISFOptions</a> *opt, const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *img)</td></tr>
<tr class="memdesc:aa1698bcdab6e14236aec783762430c90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redirect to correct sampling function based on <code>opt</code>.  <a href="#aa1698bcdab6e14236aec783762430c90">More...</a><br /></td></tr>
<tr class="separator:aa1698bcdab6e14236aec783762430c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9f61cc76bf5949c576427d8aa49b3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d54/iftHISFSampling_8h.html#a8e9f61cc76bf5949c576427d8aa49b3f">iftHISFGridSampling</a> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph, const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *img, int nSamples)</td></tr>
<tr class="memdesc:a8e9f61cc76bf5949c576427d8aa49b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples nodes over a square lattice of the spatial domain.  <a href="#a8e9f61cc76bf5949c576427d8aa49b3f">More...</a><br /></td></tr>
<tr class="separator:a8e9f61cc76bf5949c576427d8aa49b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95104c8cdc114217cdbc498a76614f62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d54/iftHISFSampling_8h.html#a95104c8cdc114217cdbc498a76614f62">iftHISFMixedSampling</a> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph, const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *img, int nSamples)</td></tr>
<tr class="memdesc:a95104c8cdc114217cdbc498a76614f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples nodes biased by high entropy areas.  <a href="#a95104c8cdc114217cdbc498a76614f62">More...</a><br /></td></tr>
<tr class="separator:a95104c8cdc114217cdbc498a76614f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ffdb70212545a08baf0d6fd683836f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d54/iftHISFSampling_8h.html#a95ffdb70212545a08baf0d6fd683836f">iftHISFRandomSampling</a> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph, int nSamples)</td></tr>
<tr class="memdesc:a95ffdb70212545a08baf0d6fd683836f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples random nodes from the igraph.  <a href="#a95ffdb70212545a08baf0d6fd683836f">More...</a><br /></td></tr>
<tr class="separator:a95ffdb70212545a08baf0d6fd683836f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba3d7cbe221afff2f358e4120e56205"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d54/iftHISFSampling_8h.html#a9ba3d7cbe221afff2f358e4120e56205">iftHISFAllNodesSampling</a> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph)</td></tr>
<tr class="memdesc:a9ba3d7cbe221afff2f358e4120e56205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples all nodes from the igraph.  <a href="#a9ba3d7cbe221afff2f358e4120e56205">More...</a><br /></td></tr>
<tr class="separator:a9ba3d7cbe221afff2f358e4120e56205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7bb07312a3f24c1eb3e18aa63de230"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d54/iftHISFSampling_8h.html#a2c7bb07312a3f24c1eb3e18aa63de230">iftHISFGeodesicSampling</a> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph, const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *img, int nSamples)</td></tr>
<tr class="memdesc:a2c7bb07312a3f24c1eb3e18aa63de230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively obtains new samples from max geodesic distance.  <a href="#a2c7bb07312a3f24c1eb3e18aa63de230">More...</a><br /></td></tr>
<tr class="separator:a2c7bb07312a3f24c1eb3e18aa63de230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5417393a69016a32004175ed5edd1f74"><td class="memItemLeft" align="right" valign="top"><a id="a5417393a69016a32004175ed5edd1f74"></a>
<a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>iftRISFGridOnMaskSampling</b> (const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *igraph, int nSamples)</td></tr>
<tr class="separator:a5417393a69016a32004175ed5edd1f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629ddaf05491191cd3023fb0b25b2bcb"><td class="memItemLeft" align="right" valign="top"><a id="a629ddaf05491191cd3023fb0b25b2bcb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>iftHISFRemoveDuplicateSeeds</b> (<a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> **seeds, int nNodes)</td></tr>
<tr class="separator:a629ddaf05491191cd3023fb0b25b2bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9ba3d7cbe221afff2f358e4120e56205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba3d7cbe221afff2f358e4120e56205">&#9670;&nbsp;</a></span>iftHISFAllNodesSampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a>* iftHISFAllNodesSampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *&#160;</td>
          <td class="paramname"><em>igraph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Samples all nodes from the igraph. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>August 1, 2017</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">igraph</td><td><a class="el" href="../../d2/d62/classGraph.html">Graph</a> from which nodes are being sampled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>igraph</code> is not NULL. </dd></dl>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  assert(igraph != NULL);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *samples = NULL;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="../../d5/da1/structnode.html">node</a> = 0; <a class="code" href="../../d5/da1/structnode.html">node</a> &lt; igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>; ++<a class="code" href="../../d5/da1/structnode.html">node</a>)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    iftInsertSet(&amp;samples, <a class="code" href="../../d5/da1/structnode.html">node</a>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">return</span> samples;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div><div class="ttc" id="structnode_html"><div class="ttname"><a href="../../d5/da1/structnode.html">node</a></div><div class="ttdoc">Structure to produce a linked list of nodes. </div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a06904e14b592bf34df5024a844d05fac"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">iftSuperpixelIGraph::nNodes</a></div><div class="ttdeci">int nNodes</div><div class="ttdef"><b>Definition:</b> iftHISF.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c7bb07312a3f24c1eb3e18aa63de230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c7bb07312a3f24c1eb3e18aa63de230">&#9670;&nbsp;</a></span>iftHISFGeodesicSampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a>* iftHISFGeodesicSampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *&#160;</td>
          <td class="paramname"><em>igraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recursively obtains new samples from max geodesic distance. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>December 24, 2017</dd></dl>
<p>This method is defined by induction on the number of seeds. For the first sample (base case) we pick an arbitrary node as seed. We obtain a new seed (induction step) by computing the node with maximum geodesic distance from the current seed set. This is done with an additive IFT over the superpixel mean brightness.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">igraph</td><td><a class="el" href="../../d2/d62/classGraph.html">Graph</a> from which nodes are being sampled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>Original image for feature extraction. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nSamples</td><td>Number of nodes being sampled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d3/d9c/structSet.html">Set</a> of node indexed seeds.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>igraph</code> is not NULL. </dd>
<dd>
<code>nSamples</code> is within (0, igraph-&gt;nNodes). </dd></dl>
<div class="fragment"><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;{</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> * funName = <span class="stringliteral">&quot;iftHISFGeodesicSampling&quot;</span>;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> trivialPathCost = <a class="code" href="../../d4/d7c/group__DataTypes.html#ga290014fed3d5acf2d1e4850fc1c93c96">IFT_INFINITY_DBL</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> seedPathCost = 0.0;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  assert(igraph != NULL);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  assert(nSamples &gt; 0 &amp;&amp; nSamples &lt; igraph-&gt;nNodes);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// Debug/visualization only</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="comment">//iftImage *heatMap = iftCopyImage(igraph-&gt;refImg);</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="comment">// Builds a custom superpixel graph off the original one</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *geograph = iftBuildGeodesicSamplingIGraph(igraph, img);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *seeds = NULL;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// Priority queue init</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Due to DIFT processing, we need to efficiently keep track of</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">//  maximum cost node as well. In a standard IFT it would be the</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">//  last node removed from the queue.</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <a class="code" href="../../d2/dfa/structiftDHeap.html">iftDHeap</a> *Q = iftCreateDHeap(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>, geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a64d40302dd57bd557b35a996dc9f1229">ann</a>-&gt;pathValue);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <a class="code" href="../../d2/dfa/structiftDHeap.html">iftDHeap</a> *R = iftCreateDHeap(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>, geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a64d40302dd57bd557b35a996dc9f1229">ann</a>-&gt;pathValue);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  R-&gt;removal_policy = MAXVALUE; </div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// Run an IFT for each new seed</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="../../d4/d7c/group__DataTypes.html#gafe0c4980c3664a7c6d61237c475439d0">timer</a> *t1f = <a class="code" href="../../df/d63/iftCommon_8h.html#a76caefd6f01f06fe623182ccc013544e">iftTic</a>(); </div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iter = 0; iter &lt; nSamples; ++iter) {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="../../d4/d7c/group__DataTypes.html#gafe0c4980c3664a7c6d61237c475439d0">timer</a> *t1 = <a class="code" href="../../df/d63/iftCommon_8h.html#a76caefd6f01f06fe623182ccc013544e">iftTic</a>();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="comment">//printf(&quot;\nRunning iter %d\n&quot;, iter);</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// Init seeds</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    iftGeodesicSamplingSeedInit(geograph, Q, R, seeds,</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        trivialPathCost, seedPathCost, iter);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// Run IFT</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="keywordflow">switch</span>(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a11591ac448ed1a8f572bfc65fcfe3e36">type</a>) {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">case</span> IMPLICIT:</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">while</span> (!iftEmptyDHeap(Q)) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;          <span class="keywordtype">int</span> s = iftRemoveDHeap(Q);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;          <a class="code" href="../../da/dd3/structiftVoxel.html">iftVoxel</a> u = { </div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            iftMatrixRowPointer(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a9807650739832423cc5369d15322a9e7">pos</a>, s)[0],</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            iftMatrixRowPointer(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a9807650739832423cc5369d15322a9e7">pos</a>, s)[1],</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            (geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a9807650739832423cc5369d15322a9e7">pos</a>-&gt;ncols &gt; 2) ?</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;              iftMatrixRowPointer(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a9807650739832423cc5369d15322a9e7">pos</a>, s)[2] : 0 };</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#abcf647efc0685f17d43a9a4dc9c2301c">A</a>-&gt;n; ++i) {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <a class="code" href="../../da/dd3/structiftVoxel.html">iftVoxel</a> v = iftGetAdjacentVoxel(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#abcf647efc0685f17d43a9a4dc9c2301c">A</a>, u, i);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../da/d89/iftImage_8h.html#a6ff1047a81698b71b9c1135694cb3c3f">iftValidVoxel</a>(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>, v))</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            <span class="keywordtype">int</span> t = <a class="code" href="../../da/d89/iftImage_8h.html#af797b50ac5f8222d63d0f43dd02e064b">iftGetVoxelIndex</a>(geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>, v); </div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            t = geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[t] - 1;</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="keywordflow">if</span> (t &lt; 0)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;              <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            iftGeodesicSamplingNeighborProcessing(geograph, Q, R, s, t);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          }</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        }</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="keywordflow">case</span> EXPLICIT:</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">while</span> (!iftEmptyDHeap(Q)) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <span class="keywordtype">int</span> s = iftRemoveDHeap(Q);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *adj = geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a923e491731007ac0fcfa9273647f0ddf">nodeAdj</a>[s];</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          <span class="keywordflow">for</span> (; adj != NULL; adj = adj-&gt;next) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordtype">int</span> t = adj-&gt;elem;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            iftGeodesicSamplingNeighborProcessing(geograph, Q, R, s, t);</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">case</span> COMPLETE:</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <span class="keywordflow">while</span> (!iftEmptyDHeap(Q)) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          <span class="keywordtype">int</span> s = iftRemoveDHeap(Q);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; geograph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>; ++t)</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">if</span> (s != t)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;              iftGeodesicSamplingNeighborProcessing(geograph, </div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                  Q, R, s, t);</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="../../dd/d1b/group__Dialog.html#ga4638429d9a4025f7e0574a9ada03578d">iftError</a>(<span class="stringliteral">&quot;Invalid graph type.&quot;</span>, funName);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    iftInsertSet(&amp;seeds, iftRemoveDHeap(R));</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">// Debug: sanity test if R is working as intended</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">/*for (int j = 0; j &lt; geograph-&gt;nNodes; ++j) {</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">      if (R-&gt;color[j] == IFT_BLACK)</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">        continue;</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">      float gog = geograph-&gt;ann-&gt;pathValue[j];</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">      float geg = geograph-&gt;ann-&gt;pathValue[seeds-&gt;elem];</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">      if (gog &gt; geg)</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">        printf(&quot;Iter %d: Node %d with cost %f should&#39;ve been removed instead of node %d with cost %f.\n&quot;, iter, j, gog, seeds-&gt;elem, geg);</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">    }*/</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="../../d4/d7c/group__DataTypes.html#gafe0c4980c3664a7c6d61237c475439d0">timer</a> *t2 = <a class="code" href="../../df/d63/iftCommon_8h.html#a9acb2cc3dfa79b4dd836ac5a6a01b7a8">iftToc</a>();</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">//printf(&quot;Iter %d time = %fms\n&quot;, iter, iftCompTime(t1,t2));</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">// Debug only, pathVal image</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="comment">/*for (int p = 0; p &lt; heatMap-&gt;n; ++p) {</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">      int label = geograph-&gt;refImg-&gt;val[p] - 1;</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">      heatMap-&gt;val[p] = (geograph-&gt;ann-&gt;pathValue[label] * 255.0) /</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">        geograph-&gt;ann-&gt;pathValue[seeds-&gt;elem];</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">    iftWriteImageByExt(heatMap, &quot;heatmap_%03d.pgm&quot;, iter+1);*/</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <a class="code" href="../../d4/d7c/group__DataTypes.html#gafe0c4980c3664a7c6d61237c475439d0">timer</a> *t2f = <a class="code" href="../../df/d63/iftCommon_8h.html#a9acb2cc3dfa79b4dd836ac5a6a01b7a8">iftToc</a>();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">//printf(&quot;Total processing time = %fms\n&quot;, iftCompTime(t1f,t2f));</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  iftDestroyDHeap(&amp;Q);</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <a class="code" href="../../d0/d00/iftHISF_8h.html#ad8686b30f3f9b101d97807fa65d5ea6c">iftDestroySuperpixelIGraph</a>(&amp;geograph);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  iftInvertSet(&amp;seeds); <span class="comment">// Insert adds to the head, inverting result</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">return</span> seeds;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div><div class="ttc" id="structiftSuperpixelIGraph_html_a11591ac448ed1a8f572bfc65fcfe3e36"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a11591ac448ed1a8f572bfc65fcfe3e36">iftSuperpixelIGraph::type</a></div><div class="ttdeci">char type</div><div class="ttdef"><b>Definition:</b> iftHISF.h:54</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a923e491731007ac0fcfa9273647f0ddf"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a923e491731007ac0fcfa9273647f0ddf">iftSuperpixelIGraph::nodeAdj</a></div><div class="ttdeci">iftSet ** nodeAdj</div><div class="ttdef"><b>Definition:</b> iftHISF.h:33</div></div>
<div class="ttc" id="group__Dialog_html_ga4638429d9a4025f7e0574a9ada03578d"><div class="ttname"><a href="../../dd/d1b/group__Dialog.html#ga4638429d9a4025f7e0574a9ada03578d">iftError</a></div><div class="ttdeci">void iftError(const char *msg, const char *func,...)</div><div class="ttdoc">An exception is raised from function func with the error message msg, calling the exception handler i...</div></div>
<div class="ttc" id="iftCommon_8h_html_a76caefd6f01f06fe623182ccc013544e"><div class="ttname"><a href="../../df/d63/iftCommon_8h.html#a76caefd6f01f06fe623182ccc013544e">iftTic</a></div><div class="ttdeci">timer * iftTic(void)</div><div class="ttdoc">Returns initial time. </div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_abcf647efc0685f17d43a9a4dc9c2301c"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#abcf647efc0685f17d43a9a4dc9c2301c">iftSuperpixelIGraph::A</a></div><div class="ttdeci">iftAdjRel * A</div><div class="ttdef"><b>Definition:</b> iftHISF.h:52</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a></div><div class="ttdoc">Variation of IGraph to support superpixels. </div><div class="ttdef"><b>Definition:</b> iftHISF.h:29</div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="group__DataTypes_html_ga290014fed3d5acf2d1e4850fc1c93c96"><div class="ttname"><a href="../../d4/d7c/group__DataTypes.html#ga290014fed3d5acf2d1e4850fc1c93c96">IFT_INFINITY_DBL</a></div><div class="ttdeci">#define IFT_INFINITY_DBL</div><div class="ttdoc">Limits for common data types. </div><div class="ttdef"><b>Definition:</b> iftBasicDataTypes.h:40</div></div>
<div class="ttc" id="structiftVoxel_html"><div class="ttname"><a href="../../da/dd3/structiftVoxel.html">iftVoxel</a></div><div class="ttdoc">3D point in the integer space. </div><div class="ttdef"><b>Definition:</b> iftBasicDataTypes.h:130</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a6c2fb5eb399b42009da6255ec3ec0a44"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">iftSuperpixelIGraph::refImg</a></div><div class="ttdeci">iftImage * refImg</div><div class="ttdef"><b>Definition:</b> iftHISF.h:48</div></div>
<div class="ttc" id="group__DataTypes_html_gafe0c4980c3664a7c6d61237c475439d0"><div class="ttname"><a href="../../d4/d7c/group__DataTypes.html#gafe0c4980c3664a7c6d61237c475439d0">timer</a></div><div class="ttdeci">struct timeval timer</div><div class="ttdoc">Short names for data types. </div><div class="ttdef"><b>Definition:</b> iftBasicDataTypes.h:77</div></div>
<div class="ttc" id="structiftImage_html_acd0db223f77f5e403a1431ebc2636bf1"><div class="ttname"><a href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">iftImage::val</a></div><div class="ttdeci">int * val</div><div class="ttdef"><b>Definition:</b> iftImage.h:115</div></div>
<div class="ttc" id="iftCommon_8h_html_a9acb2cc3dfa79b4dd836ac5a6a01b7a8"><div class="ttname"><a href="../../df/d63/iftCommon_8h.html#a9acb2cc3dfa79b4dd836ac5a6a01b7a8">iftToc</a></div><div class="ttdeci">timer * iftToc(void)</div><div class="ttdoc">Returns final time. </div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a06904e14b592bf34df5024a844d05fac"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">iftSuperpixelIGraph::nNodes</a></div><div class="ttdeci">int nNodes</div><div class="ttdef"><b>Definition:</b> iftHISF.h:31</div></div>
<div class="ttc" id="iftImage_8h_html_af797b50ac5f8222d63d0f43dd02e064b"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#af797b50ac5f8222d63d0f43dd02e064b">iftGetVoxelIndex</a></div><div class="ttdeci">#define iftGetVoxelIndex(s, v)</div><div class="ttdoc">computes an index for a voxel v from the image/fimage/etc s </div><div class="ttdef"><b>Definition:</b> iftImage.h:238</div></div>
<div class="ttc" id="structiftDHeap_html"><div class="ttname"><a href="../../d2/dfa/structiftDHeap.html">iftDHeap</a></div><div class="ttdef"><b>Definition:</b> iftDHeap.h:18</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a64d40302dd57bd557b35a996dc9f1229"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a64d40302dd57bd557b35a996dc9f1229">iftSuperpixelIGraph::ann</a></div><div class="ttdeci">iftForestAnnotationInfo * ann</div><div class="ttdef"><b>Definition:</b> iftHISF.h:50</div></div>
<div class="ttc" id="iftImage_8h_html_a6ff1047a81698b71b9c1135694cb3c3f"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a6ff1047a81698b71b9c1135694cb3c3f">iftValidVoxel</a></div><div class="ttdeci">#define iftValidVoxel(img, v)</div><div class="ttdoc">Check if the voxel belongs to the image domain. </div><div class="ttdef"><b>Definition:</b> iftImage.h:498</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a9807650739832423cc5369d15322a9e7"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a9807650739832423cc5369d15322a9e7">iftSuperpixelIGraph::pos</a></div><div class="ttdeci">iftMatrix * pos</div><div class="ttdef"><b>Definition:</b> iftHISF.h:42</div></div>
<div class="ttc" id="iftHISF_8h_html_ad8686b30f3f9b101d97807fa65d5ea6c"><div class="ttname"><a href="../../d0/d00/iftHISF_8h.html#ad8686b30f3f9b101d97807fa65d5ea6c">iftDestroySuperpixelIGraph</a></div><div class="ttdeci">void iftDestroySuperpixelIGraph(iftSuperpixelIGraph **igraph)</div><div class="ttdoc">Destroys a superpixel graph. </div><div class="ttdef"><b>Definition:</b> iftHISF.c:761</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e9f61cc76bf5949c576427d8aa49b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9f61cc76bf5949c576427d8aa49b3f">&#9670;&nbsp;</a></span>iftHISFGridSampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a>* iftHISFGridSampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *&#160;</td>
          <td class="paramname"><em>igraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Samples nodes over a square lattice of the spatial domain. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May, 2017</dd></dl>
<p>We only check in which superpixel each grid pixel fall to get our samples. If the sampling is too dense, two grid points might fall into the same superpixel and less samples are returned as a result.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">igraph</td><td><a class="el" href="../../d2/d62/classGraph.html">Graph</a> from which nodes are being sampled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>Original image from which <code>igraph</code> was created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nSamples</td><td>Number of nodes being sampled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d3/d9c/structSet.html">Set</a> of node indexed seeds.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>igraph</code> and <code>img</code> parameters are not NULL. </dd>
<dd>
<code>img</code> has the same domain of <code>igraph-&gt;refImg</code>. </dd>
<dd>
<code>nSamples</code> is within (0, igraph-&gt;nNodes). </dd></dl>
<div class="fragment"><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  assert(igraph != NULL);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  assert(img != NULL);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  assert(<a class="code" href="../../da/d89/iftImage_8h.html#a447cfdd183dbd38dc37e0de2a5ffee8d">iftIsDomainEqual</a>(img, igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>));</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  assert(nSamples &gt; 0 &amp;&amp; nSamples &lt; igraph-&gt;nNodes);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  </div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *samples = NULL;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordtype">bool</span> is3D = <a class="code" href="../../da/d89/iftImage_8h.html#a10c39fd0119da8d6287098f9e1950c5d">iftIs3DImage</a>(igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">//iftAdjRel *A = is3D ? iftSpheric(sqrtf(3.0)) : iftCircular(sqrtf(2.0));</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a11591ac448ed1a8f572bfc65fcfe3e36">type</a> == EXPLICIT) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Actual grid sampling</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a> minBounds = <a class="code" href="../../df/d91/group__Image.html#ga78a2782d494e4ee3b12e36a464390ad8">iftMinBoundingBox</a>(igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>, NULL);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordtype">int</span> xSize = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">end</a>.x - minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">begin</a>.x + 1;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">int</span> ySize = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">end</a>.y - minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">begin</a>.y + 1;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">int</span> zSize = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">end</a>.z - minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">begin</a>.z + 1;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordtype">float</span> superpixelSize = 0.5 + (float) (xSize * ySize * zSize) /</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      (float) nSamples;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordtype">int</span> step = is3D ? (int) ceil(powf(superpixelSize, 1.0/3.0)) :</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      (<span class="keywordtype">int</span>) ceil(sqrtf(superpixelSize));</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span> (step &lt; 1)</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      <a class="code" href="../../dd/d1b/group__Dialog.html#ga4638429d9a4025f7e0574a9ada03578d">iftError</a>(<span class="stringliteral">&quot;Number of samples is too high.&quot;</span>, <span class="stringliteral">&quot;iftHISFGridSampling&quot;</span>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="../../da/dd3/structiftVoxel.html">iftVoxel</a> uBegin, uEnd; </div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    uBegin.x = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">begin</a>.x + (step/2);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    uBegin.y = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">begin</a>.y + (step/2);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    uBegin.z = is3D ?  minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">begin</a>.z + (step/2) : 0;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    uEnd.x = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">end</a>.x - (step/2) + 1;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    uEnd.y = minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">end</a>.y - (step/2) + 1;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    uEnd.z = is3D ? minBounds.<a class="code" href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">end</a>.z - (step/2) + 1 : 1;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../da/dd3/structiftVoxel.html">iftVoxel</a> u;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">for</span> (u.z = uBegin.z; u.z &lt; uEnd.z; u.z += step) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">for</span> (u.y = uBegin.y; u.y &lt; uEnd.y; u.y += step) {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">for</span> (u.x = uBegin.x; u.x &lt; uEnd.x; u.x += step) {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;          <span class="keywordtype">int</span> p = <a class="code" href="../../da/d89/iftImage_8h.html#af797b50ac5f8222d63d0f43dd02e064b">iftGetVoxelIndex</a>(igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>, u);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keywordflow">if</span> (igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[p] == 0)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;          <span class="comment">// TODO Add local low grad movement</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          <span class="comment">/*</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">           * for (int i = 0; i &lt; A-&gt;n; ++i) {</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">           *   iftVoxel v = iftGetAdjacentVoxel(A, u, i);</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">           *   // Note: Always a valid voxel</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">           *   int t = iftGetVoxelIndex(</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">           * }</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">           */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          iftInsertSet(&amp;samples, igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[p] - 1);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      }</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">// For now we redirect to the old implementation for pixels</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">// TODO Delete this part once local gradient computation is done</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="../../d4/d89/structiftMImage.html">iftMImage</a> *mimg; </div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../da/d89/iftImage_8h.html#a017d1b437805fe67ddc00c7aff48e5da">iftIsColorImage</a>(img))</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      mimg = iftImageToMImage(img, LABNorm_CSPACE);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      mimg = iftImageToMImage(img, GRAY_CSPACE);  </div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// Image mask for iftGridSampling</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="../../d5/dec/structiftImage.html">iftImage</a> *tmp = <a class="code" href="../../da/d89/iftImage_8h.html#a34f54cdaeb6289a5e79e24df5a5ad03f">iftCreateImage</a>(mimg-&gt;xsize, mimg-&gt;ysize, mimg-&gt;zsize);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tmp-&gt;<a class="code" href="../../d5/dec/structiftImage.html#a7aeea55b5b8596a61e1260829124b0e8">n</a>; ++i)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      tmp-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[i] = (igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[i] &lt;= 0) ? 0 : 255;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="../../d5/dec/structiftImage.html">iftImage</a> *grid = iftGridSampling(mimg, tmp, nSamples);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Retrieve nodes from the sampling label image</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; grid-&gt;<a class="code" href="../../d5/dec/structiftImage.html#a7aeea55b5b8596a61e1260829124b0e8">n</a>; ++p)</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">if</span> (grid-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[p] != 0 &amp;&amp; igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[p] != 0)</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        iftInsertSet(&amp;samples, igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[p] - 1);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    iftDestroyMImage(&amp;mimg);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <a class="code" href="../../da/d89/iftImage_8h.html#a00dc5e984634e16895da5139a7c3dc1e">iftDestroyImage</a>(&amp;grid);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="../../da/d89/iftImage_8h.html#a00dc5e984634e16895da5139a7c3dc1e">iftDestroyImage</a>(&amp;tmp);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  assert(samples != NULL);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">return</span> samples;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="ttc" id="structiftSuperpixelIGraph_html_a11591ac448ed1a8f572bfc65fcfe3e36"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a11591ac448ed1a8f572bfc65fcfe3e36">iftSuperpixelIGraph::type</a></div><div class="ttdeci">char type</div><div class="ttdef"><b>Definition:</b> iftHISF.h:54</div></div>
<div class="ttc" id="group__Dialog_html_ga4638429d9a4025f7e0574a9ada03578d"><div class="ttname"><a href="../../dd/d1b/group__Dialog.html#ga4638429d9a4025f7e0574a9ada03578d">iftError</a></div><div class="ttdeci">void iftError(const char *msg, const char *func,...)</div><div class="ttdoc">An exception is raised from function func with the error message msg, calling the exception handler i...</div></div>
<div class="ttc" id="structiftBoundingBox_html"><div class="ttname"><a href="../../dc/dbf/structiftBoundingBox.html">iftBoundingBox</a></div><div class="ttdoc">Image Bounding Box. </div><div class="ttdef"><b>Definition:</b> iftBoundingBox.h:30</div></div>
<div class="ttc" id="iftImage_8h_html_a017d1b437805fe67ddc00c7aff48e5da"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a017d1b437805fe67ddc00c7aff48e5da">iftIsColorImage</a></div><div class="ttdeci">static bool iftIsColorImage(const iftImage *img)</div><div class="ttdoc">Check if the image has color information. </div><div class="ttdef"><b>Definition:</b> iftImage.h:317</div></div>
<div class="ttc" id="structiftMImage_html"><div class="ttname"><a href="../../d4/d89/structiftMImage.html">iftMImage</a></div><div class="ttdoc">swig(extend = iftMImageExt.i, destroyer = iftDestroyMImage) </div><div class="ttdef"><b>Definition:</b> iftMImage.h:24</div></div>
<div class="ttc" id="structiftBoundingBox_html_a908bc6aa2d4623078877a6fe1b4325d7"><div class="ttname"><a href="../../dc/dbf/structiftBoundingBox.html#a908bc6aa2d4623078877a6fe1b4325d7">iftBoundingBox::begin</a></div><div class="ttdeci">iftVoxel begin</div><div class="ttdef"><b>Definition:</b> iftBoundingBox.h:32</div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="iftImage_8h_html_a10c39fd0119da8d6287098f9e1950c5d"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a10c39fd0119da8d6287098f9e1950c5d">iftIs3DImage</a></div><div class="ttdeci">static bool iftIs3DImage(const iftImage *img)</div><div class="ttdoc">Check if the image has 3D information. </div><div class="ttdef"><b>Definition:</b> iftImage.h:327</div></div>
<div class="ttc" id="structiftVoxel_html"><div class="ttname"><a href="../../da/dd3/structiftVoxel.html">iftVoxel</a></div><div class="ttdoc">3D point in the integer space. </div><div class="ttdef"><b>Definition:</b> iftBasicDataTypes.h:130</div></div>
<div class="ttc" id="iftImage_8h_html_a447cfdd183dbd38dc37e0de2a5ffee8d"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a447cfdd183dbd38dc37e0de2a5ffee8d">iftIsDomainEqual</a></div><div class="ttdeci">#define iftIsDomainEqual(img1, img2)</div><div class="ttdoc">Checks if the images img1 and img2 are in the same domain. </div><div class="ttdef"><b>Definition:</b> iftImage.h:267</div></div>
<div class="ttc" id="iftImage_8h_html_a00dc5e984634e16895da5139a7c3dc1e"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a00dc5e984634e16895da5139a7c3dc1e">iftDestroyImage</a></div><div class="ttdeci">void iftDestroyImage(iftImage **img)</div><div class="ttdoc">Destroys the image. </div></div>
<div class="ttc" id="group__Image_html_ga78a2782d494e4ee3b12e36a464390ad8"><div class="ttname"><a href="../../df/d91/group__Image.html#ga78a2782d494e4ee3b12e36a464390ad8">iftMinBoundingBox</a></div><div class="ttdeci">iftBoundingBox iftMinBoundingBox(const iftImage *img, iftVoxel *gc_out)</div><div class="ttdoc">Returns the Minimum (Image) Bounding Box necessary to cover all Image Objects (non-zero pixels/voxels...</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a6c2fb5eb399b42009da6255ec3ec0a44"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">iftSuperpixelIGraph::refImg</a></div><div class="ttdeci">iftImage * refImg</div><div class="ttdef"><b>Definition:</b> iftHISF.h:48</div></div>
<div class="ttc" id="structiftImage_html_acd0db223f77f5e403a1431ebc2636bf1"><div class="ttname"><a href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">iftImage::val</a></div><div class="ttdeci">int * val</div><div class="ttdef"><b>Definition:</b> iftImage.h:115</div></div>
<div class="ttc" id="iftImage_8h_html_af797b50ac5f8222d63d0f43dd02e064b"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#af797b50ac5f8222d63d0f43dd02e064b">iftGetVoxelIndex</a></div><div class="ttdeci">#define iftGetVoxelIndex(s, v)</div><div class="ttdoc">computes an index for a voxel v from the image/fimage/etc s </div><div class="ttdef"><b>Definition:</b> iftImage.h:238</div></div>
<div class="ttc" id="structiftImage_html_a7aeea55b5b8596a61e1260829124b0e8"><div class="ttname"><a href="../../d5/dec/structiftImage.html#a7aeea55b5b8596a61e1260829124b0e8">iftImage::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> iftImage.h:140</div></div>
<div class="ttc" id="structiftBoundingBox_html_a3235ccd7777c0fe38ec1ebf8d507cdcd"><div class="ttname"><a href="../../dc/dbf/structiftBoundingBox.html#a3235ccd7777c0fe38ec1ebf8d507cdcd">iftBoundingBox::end</a></div><div class="ttdeci">iftVoxel end</div><div class="ttdef"><b>Definition:</b> iftBoundingBox.h:34</div></div>
<div class="ttc" id="iftImage_8h_html_a34f54cdaeb6289a5e79e24df5a5ad03f"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a34f54cdaeb6289a5e79e24df5a5ad03f">iftCreateImage</a></div><div class="ttdeci">iftImage * iftCreateImage(int xsize, int ysize, int zsize)</div><div class="ttdoc">Creates a new iftImage, with (xsize, ysize, zsize) dimensions. This function must be a wrapper around...</div></div>
<div class="ttc" id="structiftImage_html"><div class="ttname"><a href="../../d5/dec/structiftImage.html">iftImage</a></div><div class="ttdoc">iftImage definition and prototypes. </div><div class="ttdef"><b>Definition:</b> iftImage.h:113</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95104c8cdc114217cdbc498a76614f62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95104c8cdc114217cdbc498a76614f62">&#9670;&nbsp;</a></span>iftHISFMixedSampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a>* iftHISFMixedSampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *&#160;</td>
          <td class="paramname"><em>igraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Samples nodes biased by high entropy areas. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May, 2017</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">igraph</td><td><a class="el" href="../../d2/d62/classGraph.html">Graph</a> from which nodes are being sampled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>Original image from which <code>igraph</code> was created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nSamples</td><td>Number of nodes being sampled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d3/d9c/structSet.html">Set</a> of node indexed seeds.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>igraph</code> and <code>img</code> parameters are not NULL. </dd>
<dd>
<code>img</code> has the same domain of <code>igraph-&gt;refImg</code>. </dd>
<dd>
<code>nSamples</code> is within (0, igraph-&gt;nNodes). </dd></dl>
<div class="fragment"><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;{</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  assert(igraph != NULL);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  assert(img != NULL);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  assert(<a class="code" href="../../da/d89/iftImage_8h.html#a447cfdd183dbd38dc37e0de2a5ffee8d">iftIsDomainEqual</a>(img, igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>));</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  assert(nSamples &gt; 0 &amp;&amp; nSamples &lt; igraph-&gt;nNodes);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <a class="code" href="../../d4/d89/structiftMImage.html">iftMImage</a> *mimg; </div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../da/d89/iftImage_8h.html#a017d1b437805fe67ddc00c7aff48e5da">iftIsColorImage</a>(img))</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    mimg = iftImageToMImage(img, LABNorm_CSPACE);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    mimg = iftImageToMImage(img, GRAY_CSPACE);  </div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="comment">// Full image mask for iftAltMixedSampling</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <a class="code" href="../../d5/dec/structiftImage.html">iftImage</a> *tmp = <a class="code" href="../../da/d89/iftImage_8h.html#a34f54cdaeb6289a5e79e24df5a5ad03f">iftCreateImage</a>(mimg-&gt;xsize, mimg-&gt;ysize, mimg-&gt;zsize);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tmp-&gt;<a class="code" href="../../d5/dec/structiftImage.html#a7aeea55b5b8596a61e1260829124b0e8">n</a>; ++i)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    tmp-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[i] = 1;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="comment">/* iftAltMixedSampling only considers pixel features, a better</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">   *  version adapted for superpixels might be implemented later. */</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <a class="code" href="../../d5/dec/structiftImage.html">iftImage</a> *grid = iftAltMixedSampling(mimg, tmp, nSamples);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// Retrieve nodes from the sampling label image</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">// TODO create a function for this step and merge with grid sampling</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *samples = NULL;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; grid-&gt;n; ++p) {</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (grid-&gt;val[p] == 0)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Check if it is a pixel graph (which does not use refImg)</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a> == igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#a7aeea55b5b8596a61e1260829124b0e8">n</a>)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      iftInsertSet(&amp;samples, p);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      iftInsertSet(&amp;samples, igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>-&gt;<a class="code" href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">val</a>[p] - 1);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  iftDestroyMImage(&amp;mimg);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <a class="code" href="../../da/d89/iftImage_8h.html#a00dc5e984634e16895da5139a7c3dc1e">iftDestroyImage</a>(&amp;grid);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <a class="code" href="../../da/d89/iftImage_8h.html#a00dc5e984634e16895da5139a7c3dc1e">iftDestroyImage</a>(&amp;tmp);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  assert(samples != NULL);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">return</span> samples;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div><div class="ttc" id="iftImage_8h_html_a017d1b437805fe67ddc00c7aff48e5da"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a017d1b437805fe67ddc00c7aff48e5da">iftIsColorImage</a></div><div class="ttdeci">static bool iftIsColorImage(const iftImage *img)</div><div class="ttdoc">Check if the image has color information. </div><div class="ttdef"><b>Definition:</b> iftImage.h:317</div></div>
<div class="ttc" id="structiftMImage_html"><div class="ttname"><a href="../../d4/d89/structiftMImage.html">iftMImage</a></div><div class="ttdoc">swig(extend = iftMImageExt.i, destroyer = iftDestroyMImage) </div><div class="ttdef"><b>Definition:</b> iftMImage.h:24</div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="iftImage_8h_html_a447cfdd183dbd38dc37e0de2a5ffee8d"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a447cfdd183dbd38dc37e0de2a5ffee8d">iftIsDomainEqual</a></div><div class="ttdeci">#define iftIsDomainEqual(img1, img2)</div><div class="ttdoc">Checks if the images img1 and img2 are in the same domain. </div><div class="ttdef"><b>Definition:</b> iftImage.h:267</div></div>
<div class="ttc" id="iftImage_8h_html_a00dc5e984634e16895da5139a7c3dc1e"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a00dc5e984634e16895da5139a7c3dc1e">iftDestroyImage</a></div><div class="ttdeci">void iftDestroyImage(iftImage **img)</div><div class="ttdoc">Destroys the image. </div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a6c2fb5eb399b42009da6255ec3ec0a44"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">iftSuperpixelIGraph::refImg</a></div><div class="ttdeci">iftImage * refImg</div><div class="ttdef"><b>Definition:</b> iftHISF.h:48</div></div>
<div class="ttc" id="structiftImage_html_acd0db223f77f5e403a1431ebc2636bf1"><div class="ttname"><a href="../../d5/dec/structiftImage.html#acd0db223f77f5e403a1431ebc2636bf1">iftImage::val</a></div><div class="ttdeci">int * val</div><div class="ttdef"><b>Definition:</b> iftImage.h:115</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a06904e14b592bf34df5024a844d05fac"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">iftSuperpixelIGraph::nNodes</a></div><div class="ttdeci">int nNodes</div><div class="ttdef"><b>Definition:</b> iftHISF.h:31</div></div>
<div class="ttc" id="structiftImage_html_a7aeea55b5b8596a61e1260829124b0e8"><div class="ttname"><a href="../../d5/dec/structiftImage.html#a7aeea55b5b8596a61e1260829124b0e8">iftImage::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> iftImage.h:140</div></div>
<div class="ttc" id="iftImage_8h_html_a34f54cdaeb6289a5e79e24df5a5ad03f"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a34f54cdaeb6289a5e79e24df5a5ad03f">iftCreateImage</a></div><div class="ttdeci">iftImage * iftCreateImage(int xsize, int ysize, int zsize)</div><div class="ttdoc">Creates a new iftImage, with (xsize, ysize, zsize) dimensions. This function must be a wrapper around...</div></div>
<div class="ttc" id="structiftImage_html"><div class="ttname"><a href="../../d5/dec/structiftImage.html">iftImage</a></div><div class="ttdoc">iftImage definition and prototypes. </div><div class="ttdef"><b>Definition:</b> iftImage.h:113</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95ffdb70212545a08baf0d6fd683836f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ffdb70212545a08baf0d6fd683836f">&#9670;&nbsp;</a></span>iftHISFRandomSampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a>* iftHISFRandomSampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *&#160;</td>
          <td class="paramname"><em>igraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Samples random nodes from the igraph. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May, 2017</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">igraph</td><td><a class="el" href="../../d2/d62/classGraph.html">Graph</a> from which nodes are being sampled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nSamples</td><td>Number of nodes being sampled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d3/d9c/structSet.html">Set</a> of node indexed seeds.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>igraph</code> is not NULL. </dd>
<dd>
<code>nSamples</code> is within (0, igraph-&gt;nNodes). </dd></dl>
<div class="fragment"><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  assert(igraph != NULL);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  assert(nSamples &gt; 0 &amp;&amp; nSamples &lt; igraph-&gt;nNodes);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// Build random selection array with all nodes</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="../../da/d8b/structiftRandomSelector.html">iftRandomSelector</a> *rs = iftCreateRandomSelector(igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>; ++i)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    rs-&gt;nums[i] = i;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <span class="comment">// Randomly pick the desired number of samples</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *samples = NULL;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  for (<span class="keywordtype">int</span> i = 0; i &lt; nSamples; ++i)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    iftInsertSet(&amp;samples, iftPickFromRandomSelector(rs, <span class="keyword">false</span>));</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  iftDestroyRandomSelector(&amp;rs);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">return</span> samples;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div><div class="ttc" id="structiftRandomSelector_html"><div class="ttname"><a href="../../da/d8b/structiftRandomSelector.html">iftRandomSelector</a></div><div class="ttdef"><b>Definition:</b> iftRandomSelector.h:6</div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a06904e14b592bf34df5024a844d05fac"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">iftSuperpixelIGraph::nNodes</a></div><div class="ttdeci">int nNodes</div><div class="ttdef"><b>Definition:</b> iftHISF.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1698bcdab6e14236aec783762430c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1698bcdab6e14236aec783762430c90">&#9670;&nbsp;</a></span>iftHISFSampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a>* iftHISFSampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db9/structiftSuperpixelIGraph.html">iftSuperpixelIGraph</a> *&#160;</td>
          <td class="paramname"><em>igraph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../db/d0f/structiftISFOptions.html">iftISFOptions</a> *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d5/dec/structiftImage.html">iftImage</a> *&#160;</td>
          <td class="paramname"><em>img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redirect to correct sampling function based on <code>opt</code>. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>May, 2017</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">igraph</td><td><a class="el" href="../../d2/d62/classGraph.html">Graph</a> from which nodes are being sampled. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>Options defining how sampling should be done. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>Original image from which <code>igraph</code> was created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d3/d9c/structSet.html">Set</a> of node indexed seeds.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>All parameters are not NULL. </dd>
<dd>
<code>img</code> has the same domain of <code>igraph-&gt;refImg</code>. </dd></dl>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;{</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName = <span class="stringliteral">&quot;iftHISFSampling&quot;</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  assert(igraph != NULL);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  assert(opt != NULL);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  assert(<a class="code" href="../../da/d89/iftImage_8h.html#a447cfdd183dbd38dc37e0de2a5ffee8d">iftIsDomainEqual</a>(img, igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">refImg</a>));</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Check if specific selection method is even needed</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (opt-&gt;nSuperpixels &gt;= igraph-&gt;<a class="code" href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">nNodes</a>)</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/d54/iftHISFSampling_8h.html#a9ba3d7cbe221afff2f358e4120e56205">iftHISFAllNodesSampling</a>(igraph);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">// Retrieve seed set from appropriate function</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *seeds = NULL;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">switch</span>(opt-&gt;sampling) {</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">case</span> IFT_ISF_GRID_SAMPLING:</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      seeds = <a class="code" href="../../d0/d54/iftHISFSampling_8h.html#a8e9f61cc76bf5949c576427d8aa49b3f">iftHISFGridSampling</a>(igraph, img, opt-&gt;nSuperpixels);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">case</span> IFT_ISF_MIXED_SAMPLING:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      seeds = <a class="code" href="../../d0/d54/iftHISFSampling_8h.html#a95104c8cdc114217cdbc498a76614f62">iftHISFMixedSampling</a>(igraph, img, opt-&gt;nSuperpixels);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">case</span> IFT_ISF_RANDOM_SAMPLING:</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      seeds = <a class="code" href="../../d0/d54/iftHISFSampling_8h.html#a95ffdb70212545a08baf0d6fd683836f">iftHISFRandomSampling</a>(igraph, opt-&gt;nSuperpixels);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">case</span> IFT_ISF_GEODESIC_SAMPLING:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      seeds = <a class="code" href="../../d0/d54/iftHISFSampling_8h.html#a2c7bb07312a3f24c1eb3e18aa63de230">iftHISFGeodesicSampling</a>(igraph, img, opt-&gt;nSuperpixels);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">case</span> IFT_ISF_LATTICE_SAMPLING:</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      seeds = iftRISFGridOnMaskSampling(igraph, opt-&gt;nSuperpixels);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="../../dd/d1b/group__Dialog.html#ga4638429d9a4025f7e0574a9ada03578d">iftError</a>(<span class="stringliteral">&quot;Sampling strategy not selected.&quot;</span>, functionName);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  };</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  assert(seeds != NULL);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">return</span> seeds;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;}</div><div class="ttc" id="iftHISFSampling_8h_html_a2c7bb07312a3f24c1eb3e18aa63de230"><div class="ttname"><a href="../../d0/d54/iftHISFSampling_8h.html#a2c7bb07312a3f24c1eb3e18aa63de230">iftHISFGeodesicSampling</a></div><div class="ttdeci">iftSet * iftHISFGeodesicSampling(const iftSuperpixelIGraph *igraph, const iftImage *img, int nSamples)</div><div class="ttdoc">Recursively obtains new samples from max geodesic distance. </div><div class="ttdef"><b>Definition:</b> iftHISFSampling.c:469</div></div>
<div class="ttc" id="group__Dialog_html_ga4638429d9a4025f7e0574a9ada03578d"><div class="ttname"><a href="../../dd/d1b/group__Dialog.html#ga4638429d9a4025f7e0574a9ada03578d">iftError</a></div><div class="ttdeci">void iftError(const char *msg, const char *func,...)</div><div class="ttdoc">An exception is raised from function func with the error message msg, calling the exception handler i...</div></div>
<div class="ttc" id="iftHISFSampling_8h_html_a9ba3d7cbe221afff2f358e4120e56205"><div class="ttname"><a href="../../d0/d54/iftHISFSampling_8h.html#a9ba3d7cbe221afff2f358e4120e56205">iftHISFAllNodesSampling</a></div><div class="ttdeci">iftSet * iftHISFAllNodesSampling(const iftSuperpixelIGraph *igraph)</div><div class="ttdoc">Samples all nodes from the igraph. </div><div class="ttdef"><b>Definition:</b> iftHISFSampling.c:458</div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="iftHISFSampling_8h_html_a95104c8cdc114217cdbc498a76614f62"><div class="ttname"><a href="../../d0/d54/iftHISFSampling_8h.html#a95104c8cdc114217cdbc498a76614f62">iftHISFMixedSampling</a></div><div class="ttdeci">iftSet * iftHISFMixedSampling(const iftSuperpixelIGraph *igraph, const iftImage *img, int nSamples)</div><div class="ttdoc">Samples nodes biased by high entropy areas. </div><div class="ttdef"><b>Definition:</b> iftHISFSampling.c:398</div></div>
<div class="ttc" id="iftImage_8h_html_a447cfdd183dbd38dc37e0de2a5ffee8d"><div class="ttname"><a href="../../da/d89/iftImage_8h.html#a447cfdd183dbd38dc37e0de2a5ffee8d">iftIsDomainEqual</a></div><div class="ttdeci">#define iftIsDomainEqual(img1, img2)</div><div class="ttdoc">Checks if the images img1 and img2 are in the same domain. </div><div class="ttdef"><b>Definition:</b> iftImage.h:267</div></div>
<div class="ttc" id="iftHISFSampling_8h_html_a8e9f61cc76bf5949c576427d8aa49b3f"><div class="ttname"><a href="../../d0/d54/iftHISFSampling_8h.html#a8e9f61cc76bf5949c576427d8aa49b3f">iftHISFGridSampling</a></div><div class="ttdeci">iftSet * iftHISFGridSampling(const iftSuperpixelIGraph *igraph, const iftImage *img, int nSamples)</div><div class="ttdoc">Samples nodes over a square lattice of the spatial domain. </div><div class="ttdef"><b>Definition:</b> iftHISFSampling.c:314</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a6c2fb5eb399b42009da6255ec3ec0a44"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a6c2fb5eb399b42009da6255ec3ec0a44">iftSuperpixelIGraph::refImg</a></div><div class="ttdeci">iftImage * refImg</div><div class="ttdef"><b>Definition:</b> iftHISF.h:48</div></div>
<div class="ttc" id="structiftSuperpixelIGraph_html_a06904e14b592bf34df5024a844d05fac"><div class="ttname"><a href="../../d6/db9/structiftSuperpixelIGraph.html#a06904e14b592bf34df5024a844d05fac">iftSuperpixelIGraph::nNodes</a></div><div class="ttdeci">int nNodes</div><div class="ttdef"><b>Definition:</b> iftHISF.h:31</div></div>
<div class="ttc" id="iftHISFSampling_8h_html_a95ffdb70212545a08baf0d6fd683836f"><div class="ttname"><a href="../../d0/d54/iftHISFSampling_8h.html#a95ffdb70212545a08baf0d6fd683836f">iftHISFRandomSampling</a></div><div class="ttdeci">iftSet * iftHISFRandomSampling(const iftSuperpixelIGraph *igraph, int nSamples)</div><div class="ttdoc">Samples random nodes from the igraph. </div><div class="ttdef"><b>Definition:</b> iftHISFSampling.c:439</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 18 2018 16:22:29 for libIFT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
