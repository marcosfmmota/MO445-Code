<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libIFT: /home/vdalla/ift/demo/ImageActiveLearning/include/iftBoVW.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libIFT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b6c2a257bfab6380ca9b3cb94b12cb25.html">demo</a></li><li class="navelem"><a class="el" href="../../dir_9c8b383c01989677e0a5595aaec09e4f.html">ImageActiveLearning</a></li><li class="navelem"><a class="el" href="../../dir_023e33a891bab09898c378c156dfe33a.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">iftBoVW.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Bag of Visual Words (BoVW) interface. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 26, 2017</dd></dl>
<p>Given the superpixel segmentation of one or more images, the actual algorithm for building a BoVW has the following steps: </p><ul>
<li>Select a prototype for each relevant superpixel; </li>
<li>Apply some clustering algorithm over all superpixel prototypes; </li>
<li>Select and store cluster prototypes (e.g. OPF roots).</li>
</ul>
<p>Each cluster prototype defines a bin of a BoVW histogram. <a class="el" href="../../dd/d15/structFeatures.html">Features</a> for a new superpixel are then calculated by building the BoVW histogram with all its pixels, where each pixel falls into the bin corresponding to its closest cluster prototypes. The normalized BoVW histogram becomes the output feature vector.</p>
<p>Basic usage: </p><ul>
<li>Create customized <code>iftBoVWOptions</code> options (optional) </li>
<li>Use any of the functions prefixed with <code>iftCreateBoVW</code> to generate an <code><a class="el" href="../../db/d81/structiftBoVW.html" title="BoVW descriptor. ">iftBoVW</a></code> </li>
<li>Use any of the functions prefixed with <code>iftComputeBoVWFeats</code> to compute superpixel features</li>
</ul>
<p>Some possibilities for future work: </p><ul>
<li>Updating an existing <code><a class="el" href="../../db/d81/structiftBoVW.html" title="BoVW descriptor. ">iftBoVW</a></code> with new data; </li>
<li>Soft assignment during histogram calculation (e.g. softmax over knn); </li>
<li>Alternate distance function between pixel features; </li>
<li>More variations of currently supported options. </li>
</ul>
</div><div class="textblock"><code>#include &lt;ift.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BoVW descriptor.  <a href="../../db/d81/structiftBoVW.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad51eb012169a916ed1cf7200b14485b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/iftBoVW_8h.html#ad51eb012169a916ed1cf7200b14485b1">iftCreateBoVWByOPFClustering</a> (iftMatrix *mx, float kmaxPercent, <a class="el" href="../../d5/d12/iftClustering_8h.html#afcfa74386c62be47098b20f1cb17f4ff">iftKnnGraphCutFun</a> graphCutFun)</td></tr>
<tr class="memdesc:ad51eb012169a916ed1cf7200b14485b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates BoVW descriptor using OPF clustering.  <a href="#ad51eb012169a916ed1cf7200b14485b1">More...</a><br /></td></tr>
<tr class="separator:ad51eb012169a916ed1cf7200b14485b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6de5870e65c18fd0c78dba9b8b9548c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/iftBoVW_8h.html#ab6de5870e65c18fd0c78dba9b8b9548c">iftCreateBoVWByKmeans</a> (iftMatrix *mx, int k, int maxIters, float minImprovement)</td></tr>
<tr class="memdesc:ab6de5870e65c18fd0c78dba9b8b9548c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates BoVW descriptor using Kmeans clustering.  <a href="#ab6de5870e65c18fd0c78dba9b8b9548c">More...</a><br /></td></tr>
<tr class="separator:ab6de5870e65c18fd0c78dba9b8b9548c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9662d9ed5a0dcde97db4ce449fec307d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/iftBoVW_8h.html#a9662d9ed5a0dcde97db4ce449fec307d">iftDestroyBoVW</a> (<a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> **bag)</td></tr>
<tr class="memdesc:a9662d9ed5a0dcde97db4ce449fec307d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy BoVW.  <a href="#a9662d9ed5a0dcde97db4ce449fec307d">More...</a><br /></td></tr>
<tr class="separator:a9662d9ed5a0dcde97db4ce449fec307d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8658c5b401bf6716d27bbd783e6fe0fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/iftBoVW_8h.html#a8658c5b401bf6716d27bbd783e6fe0fc">iftBoVWHardAssignment</a> (const <a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *bag, const float *input, float *histogram)</td></tr>
<tr class="memdesc:a8658c5b401bf6716d27bbd783e6fe0fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hard assignment of a feature vector into a BoVW histogram.  <a href="#a8658c5b401bf6716d27bbd783e6fe0fc">More...</a><br /></td></tr>
<tr class="separator:a8658c5b401bf6716d27bbd783e6fe0fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffbed2cc1f188556e449c4aba904912"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d2e/iftBoVW_8h.html#a2ffbed2cc1f188556e449c4aba904912">iftBoVWSoftAssignment</a> (const <a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *bag, const float *input, float *histogram, int k)</td></tr>
<tr class="memdesc:a2ffbed2cc1f188556e449c4aba904912"><td class="mdescLeft">&#160;</td><td class="mdescRight">Soft assignment of a feature vector into a BoVW histogram.  <a href="#a2ffbed2cc1f188556e449c4aba904912">More...</a><br /></td></tr>
<tr class="separator:a2ffbed2cc1f188556e449c4aba904912"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac53bd91027b157a85d708d53c8501a0e"><td class="memItemLeft" align="right" valign="top"><a id="ac53bd91027b157a85d708d53c8501a0e"></a>
<a class="el" href="../../d2/d8c/structiftSet.html">iftSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>resRoots</b></td></tr>
<tr class="separator:ac53bd91027b157a85d708d53c8501a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8658c5b401bf6716d27bbd783e6fe0fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8658c5b401bf6716d27bbd783e6fe0fc">&#9670;&nbsp;</a></span>iftBoVWHardAssignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iftBoVWHardAssignment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *&#160;</td>
          <td class="paramname"><em>bag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>histogram</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hard assignment of a feature vector into a BoVW histogram. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 28, 2017</dd></dl>
<p>A hard assigment is the standard histogram behavior of adding 1 to a single bin, which is the closest bin representative in the BoVW context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bag</td><td>The BoVW descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The feature vector defining the assignment. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">histogram</td><td>The BoVW histogram to be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>All parameters are not NULL and have matching dimensions. </dd></dl>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  assert(bag != NULL &amp;&amp; input != NULL &amp;&amp; histogram != NULL);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// We do not have array sizes to check matching dimensions</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// Compute all distances</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">float</span> *distances = iftBoVWInputDistance(bag, input);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Find minimum value</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">float</span> minDist = FLT_MAX;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">int</span> minIndex = -1;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a552c7e817f749fe8cedb3c69175336d7">nBins</a>; ++i) {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (distances[i] &lt; minDist) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      minDist = distances[i];</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      minIndex = i;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Make hard assignment</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  histogram[minIndex] += 1.0;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  free(distances);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="ttc" id="structiftBoVW_html_a552c7e817f749fe8cedb3c69175336d7"><div class="ttname"><a href="../../db/d81/structiftBoVW.html#a552c7e817f749fe8cedb3c69175336d7">iftBoVW::nBins</a></div><div class="ttdeci">int nBins</div><div class="ttdef"><b>Definition:</b> iftBoVW.h:61</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ffbed2cc1f188556e449c4aba904912"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffbed2cc1f188556e449c4aba904912">&#9670;&nbsp;</a></span>iftBoVWSoftAssignment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iftBoVWSoftAssignment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *&#160;</td>
          <td class="paramname"><em>bag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>histogram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Soft assignment of a feature vector into a BoVW histogram. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 28, 2017</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000002">Todo:</a></b></dt><dd>Details of how soft assignment works </dd></dl>
<p>If k == 1, this function redirects to hard assignment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bag</td><td>The BoVW descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>The feature vector defining the assignment. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">histogram</td><td>The BoVW histogram to be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>Number of closest words considered for assignment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>All parameters are not NULL and have matching dimensions. </dd>
<dd>
<code>k</code> is positive. </dd></dl>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  assert(bag != NULL &amp;&amp; input != NULL &amp;&amp; histogram != NULL);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  assert(k &gt; 0);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// We do not have array sizes to check matching dimensions</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Special case for k = 1 (hard assignment)</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (k == 1) {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="../../dd/d2e/iftBoVW_8h.html#a8658c5b401bf6716d27bbd783e6fe0fc">iftBoVWHardAssignment</a>(bag, input, histogram);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// Compute distance to all visual words</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">float</span> *distances = iftBoVWInputDistance(bag, input);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">// Use sorting algorithm to find closest words</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordtype">int</span> *index = <a class="code" href="../../de/d85/group__Memory.html#ga27f8370c9e4c937311d70fad35e70116">iftAllocIntArray</a>(bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a552c7e817f749fe8cedb3c69175336d7">nBins</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a552c7e817f749fe8cedb3c69175336d7">nBins</a>; ++i)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    index[i] = i;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  iftFHeapSort(distances, index, bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a552c7e817f749fe8cedb3c69175336d7">nBins</a>, IFT_INCREASING); </div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="comment">// Calculate word normalization weight</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordtype">double</span> kSum = 0.0;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; k; ++i)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    kSum += distances[i];</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="comment">// Make soft assignment. We add a total of 1.0 to the histogram,</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">//  distributed over the k closest words.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; k; ++i)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    histogram[index[i]] += (distances[i] / kSum);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  free(distances);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  free(index);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div><div class="ttc" id="group__Memory_html_ga27f8370c9e4c937311d70fad35e70116"><div class="ttname"><a href="../../de/d85/group__Memory.html#ga27f8370c9e4c937311d70fad35e70116">iftAllocIntArray</a></div><div class="ttdeci">int * iftAllocIntArray(long n)</div><div class="ttdoc">Allocates a Char Array (string) with n positions. </div></div>
<div class="ttc" id="structiftBoVW_html_a552c7e817f749fe8cedb3c69175336d7"><div class="ttname"><a href="../../db/d81/structiftBoVW.html#a552c7e817f749fe8cedb3c69175336d7">iftBoVW::nBins</a></div><div class="ttdeci">int nBins</div><div class="ttdef"><b>Definition:</b> iftBoVW.h:61</div></div>
<div class="ttc" id="iftBoVW_8h_html_a8658c5b401bf6716d27bbd783e6fe0fc"><div class="ttname"><a href="../../dd/d2e/iftBoVW_8h.html#a8658c5b401bf6716d27bbd783e6fe0fc">iftBoVWHardAssignment</a></div><div class="ttdeci">void iftBoVWHardAssignment(const iftBoVW *bag, const float *input, float *histogram)</div><div class="ttdoc">Hard assignment of a feature vector into a BoVW histogram. </div><div class="ttdef"><b>Definition:</b> iftBoVW.c:141</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6de5870e65c18fd0c78dba9b8b9548c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6de5870e65c18fd0c78dba9b8b9548c">&#9670;&nbsp;</a></span>iftCreateBoVWByKmeans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a>* iftCreateBoVWByKmeans </td>
          <td>(</td>
          <td class="paramtype">iftMatrix *&#160;</td>
          <td class="paramname"><em>mx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxIters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>minImprovement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates BoVW descriptor using Kmeans clustering. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>August 2, 2017</dd></dl>
<p>The returned <code><a class="el" href="../../db/d81/structiftBoVW.html" title="BoVW descriptor. ">iftBoVW</a></code> is owned by the caller. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d2e/iftBoVW_8h.html#a9662d9ed5a0dcde97db4ce449fec307d" title="Destroy BoVW. ">iftDestroyBoVW()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mx</td><td>Data matrix where each row is a a feature vector. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>Number of k-means clusters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxIters</td><td>Max number of k-means iterations. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minImprovement</td><td>Threshold for k-means convergence. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new BoVW descriptor. </dd></dl>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// Convert data matrix of representative values into a dataset</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="../../dd/d29/structiftDataSet.html">iftDataSet</a> *Z = <a class="code" href="../../d1/d86/iftDataSet_8h.html#a110aeb12ed531149afac1b94da27842c">iftFeatureMatrixToDataSet</a>(mx);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  Z-&gt;ntrainsamples = Z-&gt;nsamples;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; Z-&gt;nsamples; ++s)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    Z-&gt;sample[s].status = IFT_TRAIN;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// Compute K-means</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="../../dd/d29/structiftDataSet.html">iftDataSet</a> *Zk = iftKmeansInitCentroidsFromSamples(Z, k);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  iftKmeansRun(0, Z, &amp;Zk, maxIters, minImprovement);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// Create BoVW with cluster means as words</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  assert(k == Zk-&gt;nsamples); <span class="comment">// sanity test</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *bag = iftCreateBoVW(k, Z-&gt;nfeats);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; k; ++s)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; Z-&gt;nfeats; ++f)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">feats</a>-&gt;val[iftGetMatrixIndex(bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">feats</a>,f,s)] =</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        Zk-&gt;sample[s].feat[f];</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="../../d1/d86/iftDataSet_8h.html#aae7b9c78b75f04e57706682702809573">iftDestroyDataSet</a>(&amp;Z);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="../../d1/d86/iftDataSet_8h.html#aae7b9c78b75f04e57706682702809573">iftDestroyDataSet</a>(&amp;Zk);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> bag;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div><div class="ttc" id="structiftBoVW_html_a51996215e60e4e13e593bc7e28a32f32"><div class="ttname"><a href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">iftBoVW::feats</a></div><div class="ttdeci">iftMatrix * feats</div><div class="ttdef"><b>Definition:</b> iftBoVW.h:63</div></div>
<div class="ttc" id="iftDataSet_8h_html_aae7b9c78b75f04e57706682702809573"><div class="ttname"><a href="../../d1/d86/iftDataSet_8h.html#aae7b9c78b75f04e57706682702809573">iftDestroyDataSet</a></div><div class="ttdeci">void iftDestroyDataSet(iftDataSet **Z)</div><div class="ttdoc">Destroys a dataset object (and destroy their Sample Feature Vectors). </div></div>
<div class="ttc" id="structiftDataSet_html"><div class="ttname"><a href="../../dd/d29/structiftDataSet.html">iftDataSet</a></div><div class="ttdoc">Dataset structure for pattern recognition. </div><div class="ttdef"><b>Definition:</b> iftDataSet.h:190</div></div>
<div class="ttc" id="structiftBoVW_html"><div class="ttname"><a href="../../db/d81/structiftBoVW.html">iftBoVW</a></div><div class="ttdoc">BoVW descriptor. </div><div class="ttdef"><b>Definition:</b> iftColorQuantization.c:10</div></div>
<div class="ttc" id="iftDataSet_8h_html_a110aeb12ed531149afac1b94da27842c"><div class="ttname"><a href="../../d1/d86/iftDataSet_8h.html#a110aeb12ed531149afac1b94da27842c">iftFeatureMatrixToDataSet</a></div><div class="ttdeci">iftDataSet * iftFeatureMatrixToDataSet(iftMatrix *X)</div><div class="ttdoc">Creates a dataset (samples = rows, features = cols) from the input matrix. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad51eb012169a916ed1cf7200b14485b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51eb012169a916ed1cf7200b14485b1">&#9670;&nbsp;</a></span>iftCreateBoVWByOPFClustering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a>* iftCreateBoVWByOPFClustering </td>
          <td>(</td>
          <td class="paramtype">iftMatrix *&#160;</td>
          <td class="paramname"><em>mx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>kmaxPercent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d5/d12/iftClustering_8h.html#afcfa74386c62be47098b20f1cb17f4ff">iftKnnGraphCutFun</a>&#160;</td>
          <td class="paramname"><em>graphCutFun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates BoVW descriptor using OPF clustering. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 27, 2017</dd></dl>
<p>The returned <code><a class="el" href="../../db/d81/structiftBoVW.html" title="BoVW descriptor. ">iftBoVW</a></code> is owned by the caller. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dd/d2e/iftBoVW_8h.html#a9662d9ed5a0dcde97db4ce449fec307d" title="Destroy BoVW. ">iftDestroyBoVW()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mx</td><td>Data matrix where each row is a a feature vector. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kmaxPercent</td><td>Percentage of samples used as OPF kmax. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">graphCutFun</td><td>OPF graph cut function (e.g. iftNormalizedCut) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new BoVW descriptor. </dd></dl>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// Convert data matrix of representative values into a dataset</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="../../dd/d29/structiftDataSet.html">iftDataSet</a> *Z = <a class="code" href="../../d1/d86/iftDataSet_8h.html#a110aeb12ed531149afac1b94da27842c">iftFeatureMatrixToDataSet</a>(mx);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  Z-&gt;ntrainsamples = Z-&gt;nsamples;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s = 0; s &lt; Z-&gt;nsamples; ++s)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    Z-&gt;sample[s].status = IFT_TRAIN;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">// Compute Unsupervised OPF over superpixel prototypes</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordtype">int</span> kmax = ((<span class="keywordtype">float</span>) Z-&gt;ntrainsamples) * kmaxPercent;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="../../de/d91/structiftKnnGraph.html">iftKnnGraph</a> *graph = <a class="code" href="../../d5/d12/iftClustering_8h.html#a4b0f3924cb488b08cd9fba8484368290">iftCreateKnnGraph</a>(Z, kmax);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">int</span> nClusters = <a class="code" href="../../d5/d12/iftClustering_8h.html#a21ef159a8499fa31d52df2b8f42fc2d5">iftUnsupTrain</a>(graph, graphCutFun);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// Create BoVW with resulting OPF roots as prototypes</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="../../db/d81/structiftBoVW.html">iftBoVW</a> *bag = iftCreateBoVW(nClusters, Z-&gt;nfeats);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="../../d2/d8c/structiftSet.html">iftSet</a> *roots = <a class="code" href="../../d5/d12/iftClustering_8h.html#a2950a5b4e9fe94f7fd4bbca52aa7ab06">iftGetKnnRootSamples</a>(graph);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  resRoots = iftSetCopy(roots); <span class="comment">// Temporary for debug</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">int</span> binPos = 0;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">while</span> (roots != NULL) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">int</span> r = iftRemoveSet(&amp;roots);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; Z-&gt;nfeats; ++f)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">feats</a>-&gt;val[iftGetMatrixIndex(bag-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">feats</a>,f,binPos)] =</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        Z-&gt;sample[r].feat[f];</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    binPos += 1;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="../../d5/d12/iftClustering_8h.html#a3508ddaca6e6f5d2fc0d4229e2e3b1b9">iftDestroyKnnGraph</a>(&amp;graph);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="../../d1/d86/iftDataSet_8h.html#aae7b9c78b75f04e57706682702809573">iftDestroyDataSet</a>(&amp;Z);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordflow">return</span> bag;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="ttc" id="iftClustering_8h_html_a21ef159a8499fa31d52df2b8f42fc2d5"><div class="ttname"><a href="../../d5/d12/iftClustering_8h.html#a21ef159a8499fa31d52df2b8f42fc2d5">iftUnsupTrain</a></div><div class="ttdeci">int iftUnsupTrain(iftKnnGraph *graph, iftKnnGraphCutFun iftGraphCutFun)</div><div class="ttdoc">Clusters the samples of a KNN Graph by OPF. </div></div>
<div class="ttc" id="structiftSet_html"><div class="ttname"><a href="../../d2/d8c/structiftSet.html">iftSet</a></div><div class="ttdef"><b>Definition:</b> iftSet.h:13</div></div>
<div class="ttc" id="iftClustering_8h_html_a3508ddaca6e6f5d2fc0d4229e2e3b1b9"><div class="ttname"><a href="../../d5/d12/iftClustering_8h.html#a3508ddaca6e6f5d2fc0d4229e2e3b1b9">iftDestroyKnnGraph</a></div><div class="ttdeci">void iftDestroyKnnGraph(iftKnnGraph **graph)</div><div class="ttdoc">Destroys a KNN Graph. </div></div>
<div class="ttc" id="structiftBoVW_html_a51996215e60e4e13e593bc7e28a32f32"><div class="ttname"><a href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">iftBoVW::feats</a></div><div class="ttdeci">iftMatrix * feats</div><div class="ttdef"><b>Definition:</b> iftBoVW.h:63</div></div>
<div class="ttc" id="iftDataSet_8h_html_aae7b9c78b75f04e57706682702809573"><div class="ttname"><a href="../../d1/d86/iftDataSet_8h.html#aae7b9c78b75f04e57706682702809573">iftDestroyDataSet</a></div><div class="ttdeci">void iftDestroyDataSet(iftDataSet **Z)</div><div class="ttdoc">Destroys a dataset object (and destroy their Sample Feature Vectors). </div></div>
<div class="ttc" id="structiftDataSet_html"><div class="ttname"><a href="../../dd/d29/structiftDataSet.html">iftDataSet</a></div><div class="ttdoc">Dataset structure for pattern recognition. </div><div class="ttdef"><b>Definition:</b> iftDataSet.h:190</div></div>
<div class="ttc" id="iftClustering_8h_html_a2950a5b4e9fe94f7fd4bbca52aa7ab06"><div class="ttname"><a href="../../d5/d12/iftClustering_8h.html#a2950a5b4e9fe94f7fd4bbca52aa7ab06">iftGetKnnRootSamples</a></div><div class="ttdeci">iftSet * iftGetKnnRootSamples(iftKnnGraph *graph)</div><div class="ttdoc">Gets the samples corresponding to the root nodes of a clustered graph. </div></div>
<div class="ttc" id="structiftKnnGraph_html"><div class="ttname"><a href="../../de/d91/structiftKnnGraph.html">iftKnnGraph</a></div><div class="ttdoc">KNN Graph composed by the training samples of a dataset. </div><div class="ttdef"><b>Definition:</b> iftClustering.h:56</div></div>
<div class="ttc" id="iftClustering_8h_html_a4b0f3924cb488b08cd9fba8484368290"><div class="ttname"><a href="../../d5/d12/iftClustering_8h.html#a4b0f3924cb488b08cd9fba8484368290">iftCreateKnnGraph</a></div><div class="ttdeci">iftKnnGraph * iftCreateKnnGraph(iftDataSet *Z, int kmax)</div><div class="ttdoc">Creates a KNN Graph from the training samples of a dataset. </div></div>
<div class="ttc" id="structiftBoVW_html"><div class="ttname"><a href="../../db/d81/structiftBoVW.html">iftBoVW</a></div><div class="ttdoc">BoVW descriptor. </div><div class="ttdef"><b>Definition:</b> iftColorQuantization.c:10</div></div>
<div class="ttc" id="iftDataSet_8h_html_a110aeb12ed531149afac1b94da27842c"><div class="ttname"><a href="../../d1/d86/iftDataSet_8h.html#a110aeb12ed531149afac1b94da27842c">iftFeatureMatrixToDataSet</a></div><div class="ttdeci">iftDataSet * iftFeatureMatrixToDataSet(iftMatrix *X)</div><div class="ttdoc">Creates a dataset (samples = rows, features = cols) from the input matrix. </div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9662d9ed5a0dcde97db4ce449fec307d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9662d9ed5a0dcde97db4ce449fec307d">&#9670;&nbsp;</a></span>iftDestroyBoVW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iftDestroyBoVW </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d81/structiftBoVW.html">iftBoVW</a> **&#160;</td>
          <td class="paramname"><em>bag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy BoVW. </p>
<dl class="section author"><dt>Author</dt><dd>Felipe Lemes Galvao </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 27, 2017</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bag</td><td>Pointer to BoVW to be destroyed. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">if</span> (bag == NULL || *bag == NULL)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="../../db/d81/structiftBoVW.html">iftBoVW</a> * tmp = *bag;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  iftDestroyMatrix(&amp;(tmp-&gt;<a class="code" href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">feats</a>));</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  free(tmp);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  *bag = NULL;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="ttc" id="structiftBoVW_html_a51996215e60e4e13e593bc7e28a32f32"><div class="ttname"><a href="../../db/d81/structiftBoVW.html#a51996215e60e4e13e593bc7e28a32f32">iftBoVW::feats</a></div><div class="ttdeci">iftMatrix * feats</div><div class="ttdef"><b>Definition:</b> iftBoVW.h:63</div></div>
<div class="ttc" id="structiftBoVW_html"><div class="ttname"><a href="../../db/d81/structiftBoVW.html">iftBoVW</a></div><div class="ttdoc">BoVW descriptor. </div><div class="ttdef"><b>Definition:</b> iftColorQuantization.c:10</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Aug 18 2018 16:22:29 for libIFT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
